(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-104ff24c"],{"14fa":function(t,e,r){"use strict";var a=r("f2e5"),i=r.n(a);i.a},"26e9":function(t,e,r){"use strict";var a=r("23e7"),i=r("e8b5"),n=[].reverse,o=[1,2];a({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),n.call(this)}})},"4e82":function(t,e,r){"use strict";var a=r("23e7"),i=r("1c0b"),n=r("7b0b"),o=r("d039"),s=r("b301"),l=[].sort,c=[1,2,3],u=o((function(){c.sort(void 0)})),f=o((function(){c.sort(null)})),m=s("sort"),v=u||!f||m;a({target:"Array",proto:!0,forced:v},{sort:function(t){return void 0===t?l.call(n(this)):l.call(n(this),i(t))}})},7652:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"page-section"},[r("b-container",[r("HeaderPage",{attrs:{title:"Animais"}}),r("b-row",[r("div",{staticClass:"form-group mb-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName,expression:"filterName"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"procura pelo nome..."},domProps:{value:t.filterName},on:{input:function(e){e.target.composing||(t.filterName=e.target.value)}}})]),r("div",{staticClass:"form-group mx-sm-3 mb-5"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.filterGroup,expression:"filterGroup"}],staticClass:"form-control form-control-lg",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterGroup=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"todos"}},[t._v("todos os grupos")]),r("option",{attrs:{value:"anfíbio"}},[t._v("anfíbios")]),r("option",{attrs:{value:"ave"}},[t._v("aves")]),r("option",{attrs:{value:"mamífero"}},[t._v("mamíferos")]),r("option",{attrs:{value:"peixe"}},[t._v("peixes")]),r("option",{attrs:{value:"réptil"}},[t._v("répteis")])])]),r("div",{staticClass:"form-group mx-sm-3 mb-5"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.filterLevel,expression:"filterLevel"}],staticClass:"form-control form-control-lg",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterLevel=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"todos"}},[t._v("todos os níveis")]),r("option",{attrs:{value:"1"}},[t._v("nível 1")]),r("option",{attrs:{value:"2"}},[t._v("nível 2")]),r("option",{attrs:{value:"3"}},[t._v("nível 3")]),r("option",{attrs:{value:"4"}},[t._v("nível 4")]),r("option",{attrs:{value:"5"}},[t._v("nível 5")])])]),r("div",{staticClass:"form-group mb-5"},[r("button",{staticClass:"btn btn-success btn-lg",on:{click:t.sortAnimals}},[r("i",{class:t.classSorter}),t._v(" ordenar ")])])]),r("div",{staticClass:"row"},t._l(t.filteredAnimals,(function(t){return r("Animal",{key:t.id,attrs:{animal:t}})})),1)],1)],1)},i=[],n=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("caad"),r("26e9"),r("4e82"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("2532"),r("159b"),r("2fa7")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-col",{attrs:{cols:"4"}},[r("b-card",{staticClass:"mb-5",attrs:{title:t.animal.name,"img-src":t.animal.links[0].url,"img-alt":"Image","img-top":""}},[r("b-card-text",[r("kbd",{staticStyle:{"background-color":"red"}},[t._v(t._s(t.animal.group))])]),r("b-card-text",[t._v(t._s(t.animal.description))]),r("b-card-text",{attrs:{align:"left"}},[r("i",{staticClass:"fas fa-star fa-lg",style:{color:t.color},on:{click:function(e){return t.evaluate()}}}),t._v(" "+t._s(t.animal.evaluation.length)+" "),r("i",{staticClass:"fas fa-comment fa-lg ml-2"}),t._v(" "+t._s(t.animal.comments.length)+" "),r("i",{staticClass:"fas fa-medal fa-lg ml-2"}),t._v(" "+t._s(t.animal.level)+" ")]),r("router-link",{staticClass:"mr-2",attrs:{to:{name:"animal",params:{animalId:t.animal._id}},tag:"b-button"}},[r("i",{staticClass:"fas fa-search mr-2"}),t._v("Ver animal ")]),r("b-button",{attrs:{variant:"info",href:"https://www.facebook.com/sharer/sharer.php?u="+t.animal.links[0].url,target:"_blank"}},[r("i",{staticClass:"fab fa-facebook mr-2"}),t._v("Partilhar ")])],1)],1)},s=[],l=r("ec45"),c=r("2f62");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m={name:"Animal",props:["animal"],data:function(){return{color:""}},methods:f({},Object(c["b"])("auth",["getProfile"]),{evaluate:function(){var t=this;this.animal.evaluation.includes(this.getProfile()._id)?(this.animal.evaluation=this.animal.evaluation.filter((function(e){return e!==t.getProfile()._id})),this.color="black"):(this.animal.evaluation.push(this.getProfile()._id),this.color="red"),this.$store.dispatch("".concat(l["d"],"/").concat(l["b"]),this.animal).then((function(){t.$alert("Obrigado por gostares do ".concat(t.animal.name,"!"),"Gosto","success")})).catch((function(e){t.$alert("".concat(e.message),"Erro","error")}))}}),created:function(){this.animal.evaluation.includes(this.getProfile()._id)?this.color="red":this.color="black"}},v=m,p=r("2877"),d=Object(p["a"])(v,o,s,!1,null,null,null),b=d.exports,g=r("e9c6");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O={name:"Animals",components:{HeaderPage:g["a"],Animal:b},data:function(){return{filterName:"",filterGroup:"todos",filterLevel:"todos",reverse:!1,animals:[]}},computed:_({},Object(c["b"])(["getUserLevelByPoints"]),{},Object(c["b"])("auth",["getProfile"]),{},Object(c["b"])("animal",["getAnimals","getMessage"]),{classSorter:function(){return{"fas fa-sort-alpha-up":!this.reverse,"fas fa-sort-alpha-down":this.reverse}},filteredAnimals:function(){var t=this;return this.animals.filter((function(e){var r=!0,a=!0,i=!0;return""!=t.filterName&&(r=e.name.includes(t.filterName)),""!=t.filterName&&(r=e.name.includes(t.filterName)),"todos"!=t.filterGroup&&(a=e.group==t.filterGroup),"todos"!=t.filterLevel&&(i=e.level==t.filterLevel),r&&a&&i}))}}),methods:{compareAnimalNames:function(t,e){if(this.reverse){if(t.name<e.name)return 1;if(t.name>e.name)return-1}else{if(t.name>e.name)return 1;if(t.name<e.name)return-1}return 0},sortAnimals:function(){this.animals.sort(this.compareAnimalNames),this.reverse=!this.reverse}},created:function(){var t=this;this.$store.dispatch("".concat(l["d"],"/").concat(l["c"])).then((function(){t.animals=t.getAnimals.filter((function(e){return e.level<=t.getUserLevelByPoints(t.getProfile.gamification.points).level}))})).catch((function(e){return t.$alert("".concat(e.message),"Erro","error")}))}},y=O,P=Object(p["a"])(y,a,i,!1,null,null,null);e["default"]=P.exports},e9c6:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-row",{staticClass:"text-center"},[r("b-col",[r("h2",{staticClass:"page-section-heading mt-5"},[t._v(t._s(t.title.toUpperCase()))])])],1),r("b-row",{staticClass:"text-center"},[r("b-col",[r("div",{staticClass:"divider-custom"},[r("div",{staticClass:"divider-custom-line"}),r("div",{staticClass:"divider-custom-icon"},[r("i",{staticClass:"fas fa-star"})]),r("div",{staticClass:"divider-custom-line"})])])],1)],1)},i=[],n={name:"HeaderPage",props:["title"]},o=n,s=(r("14fa"),r("2877")),l=Object(s["a"])(o,a,i,!1,null,"4b0c4b4e",null);e["a"]=l.exports},f2e5:function(t,e,r){}}]);
//# sourceMappingURL=chunk-104ff24c.47654b36.js.map