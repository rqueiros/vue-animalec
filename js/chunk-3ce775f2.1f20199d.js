(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ce775f2"],{"0d03":function(t,e,a){var s=a("6eeb"),n=Date.prototype,r="Invalid Date",o="toString",i=n[o],c=n.getTime;new Date(NaN)+""!=r&&s(n,o,(function(){var t=c.call(this);return t===t?i.call(this):r}))},"14fa":function(t,e,a){"use strict";var s=a("f2e5"),n=a.n(s);n.a},"1ae6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"page-section"},[a("b-container",[a("HeaderPage",{attrs:{title:"Gestão de Utilizadores"}}),a("b-row",{staticClass:"mb-4"},[a("b-col",{attrs:{cols:"1"}}),a("b-col",[a("router-link",{staticClass:"btn btn-outline-success mr-2 mt-2",attrs:{to:{name:"addUser"},tag:"button"}},[a("i",{staticClass:"fas fa-plus-square"}),t._v(" ADICIONAR UTILIZADOR ")]),a("router-link",{staticClass:"btn btn-outline-info mr-2 mt-2",attrs:{to:{name:"admin"},tag:"button"}},[a("i",{staticClass:"fas fa-bars"}),t._v(" MENU PRINCIPAL ")])],1),a("b-col",{attrs:{cols:"1"}})],1),a("b-row",[a("b-col",{attrs:{cols:"1"}}),a("b-col",[a("table",{staticClass:"table table-striped"},[a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v(" NOME "),a("i",{class:1===t.sortType?"fas fa-arrow-up":"fas fa-arrow-down",on:{click:function(e){return t.sort()}}})]),a("th",{attrs:{scope:"col"}},[t._v("TIPO")]),a("th",{attrs:{scope:"col"}},[t._v("DATA DE CRIAÇÃO")]),a("th",{attrs:{scope:"col"}},[t._v("AÇÕES")])])]),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e._id},[a("td",{staticClass:"pt-4"},[t._v(t._s(e.name))]),a("td",{staticClass:"pt-4"},[t._v(t._s("admin"===e.type?"Administrador":"Utilizador normal"))]),a("td",{staticClass:"pt-4"},[t._v(t._s(t.formatDate(e.registration_date)))]),a("td",[a("router-link",{staticClass:"btn btn-outline-success mr-2",attrs:{to:{name:"editUser",params:{userId:e._id}},tag:"button"}},[a("i",{staticClass:"fas fa-edit"}),t._v(" EDITAR ")]),a("button",{staticClass:"btn btn-outline-success mr-2",attrs:{type:"button"},on:{click:function(a){return t.viewUser(e._id)}}},[a("i",{staticClass:"fas fa-search"}),t._v(" VER ")]),a("button",{staticClass:"btn btn-outline-danger mr-2",attrs:{type:"button"},on:{click:function(a){return t.removeUser(e._id)}}},[a("i",{staticClass:"fas fa-trash-alt"}),t._v(" REMOVER ")])],1)])})),0)])]),a("b-col",{attrs:{cols:"1"}})],1)],1)],1)},n=[],r=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("7db0"),a("4160"),a("4e82"),a("0d03"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("2fa7")),o=a("e680"),i=a("e9c6"),c=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"ManageUsers",components:{HeaderPage:i["a"]},data:function(){return{users:[],sortType:1}},computed:u({},Object(c["b"])(["getUserLevelByPoints"]),{},Object(c["b"])("user",["getUsers","getMessage"])),methods:{fetchUsers:function(){var t=this;this.$store.dispatch("".concat(o["d"],"/").concat(o["c"])).then((function(){return t.users=t.getUsers})).catch((function(e){return t.$alert("".concat(e.message),"Erro","error")}))},sort:function(){this.users.sort(this.compareNames),this.sortType*=-1},compareNames:function(t,e){return t.name>e.name?1*this.sortType:t.name<e.name?-1*this.sortType:0},viewUser:function(t){var e=this.users.find((function(e){return e._id===t}));this.$fire({title:e.auth.username,html:this.generateTemplate(e),imageUrl:a("0606")("./".concat(this.getUserLevelByPoints(e.gamification.points).avatar,".png")),imageWidth:150,imageHeight:150,imageAlt:"Imagem desconhecida"})},generateTemplate:function(t){return"\n          <h5>".concat(t.gamification.points," pontos (").concat(this.getUserLevelByPoints(t.gamification.points).name,")</h5>\n          <p>").concat(t.description,"</p>\n          <p>\n          <b>Nome:</b> ").concat(t.name," <br>\n          <b>Tipo de utilizador:</b> ").concat("admin"===t.type?"Administrador":"Utilizador normal"," <br>\n          <b>Data de registo:</b> ").concat(this.formatDate(t.registration_date)," <br>\n          <b>Data de nascimento:</b> ").concat(this.formatDate(t.birth_date),"<br>\n          <b>Cidade:</b> ").concat(t.location.city,"<br>\n          <b>País:</b> ").concat(t.location.country,"\n          </p>\n        ")},formatDate:function(t){var e=new Date(Date.parse(t));return"\n        ".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate(),"  ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds(),"\n      ")},removeUser:function(t){var e=this;this.$confirm("Se sim, clique em OK","Deseja mesmo remover o utilizador?","warning",{confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then((function(){e.$store.dispatch("".concat(o["d"],"/").concat(o["e"]),t).then((function(){e.$alert(e.getMessage,"Utilizador removido!","success"),e.fetchUsers()})).catch((function(t){return e.$alert("".concat(t.message),"Erro","error")}))})).catch((function(){e.$alert("Remoção cancelada!","Informação","info")}))}},created:function(){this.fetchUsers()}},f=d,b=a("2877"),m=Object(b["a"])(f,s,n,!1,null,null,null);e["default"]=m.exports},"4e82":function(t,e,a){"use strict";var s=a("23e7"),n=a("1c0b"),r=a("7b0b"),o=a("d039"),i=a("b301"),c=[].sort,l=[1,2,3],u=o((function(){l.sort(void 0)})),d=o((function(){l.sort(null)})),f=i("sort"),b=u||!d||f;s({target:"Array",proto:!0,forced:b},{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),n(t))}})},e01a:function(t,e,a){"use strict";var s=a("23e7"),n=a("83ab"),r=a("da84"),o=a("5135"),i=a("861d"),c=a("9bf2").f,l=a("e893"),u=r.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var b=f.prototype=u.prototype;b.constructor=f;var m=b.toString,p="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(b,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=m.call(t);if(o(d,t))return"";var a=p?e.slice(7,-1):e.replace(h,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:f})}},e9c6:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",{staticClass:"text-center"},[a("b-col",[a("h2",{staticClass:"page-section-heading mt-5"},[t._v(t._s(t.title.toUpperCase()))])])],1),a("b-row",{staticClass:"text-center"},[a("b-col",[a("div",{staticClass:"divider-custom"},[a("div",{staticClass:"divider-custom-line"}),a("div",{staticClass:"divider-custom-icon"},[a("i",{staticClass:"fas fa-star"})]),a("div",{staticClass:"divider-custom-line"})])])],1)],1)},n=[],r={name:"HeaderPage",props:["title"]},o=r,i=(a("14fa"),a("2877")),c=Object(i["a"])(o,s,n,!1,null,"4b0c4b4e",null);e["a"]=c.exports},f2e5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-3ce775f2.1f20199d.js.map